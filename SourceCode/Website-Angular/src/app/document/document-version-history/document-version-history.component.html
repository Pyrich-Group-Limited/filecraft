<div class="d-flex">
  <span mat-dialog-title class="dialog-title">
    {{data.name | limitTo:10 }}'s {{'VERSION_HISOTRY' | translate}}
    <app-page-help-text [code]="'VERSION_HISTORY'"></app-page-help-text>
  </span>
  <button mat-icon-button class="ms-auto" (click)="closeDialog()">
    <i-feather class="close-icon text-danger" name="x"></i-feather>
  </button>
</div>
<mat-dialog-content>
  <table class="table table-responsive">
    <tbody>
      <tr *ngFor="let version of data.documentVersions">
        <td>{{version.modifiedDate | utcToLocalTime:'full'}}</td>
        <td>
          {{'ADDED_BY ' | translate}}{{version.createdByUser}}
        </td>
        <td>
          <span *ngIf="version.isCurrentVersion" class="badge bg-success">{{'CURRENT_VERSION' | translate}}
          </span>
          <div *ngIf="!version.isCurrentVersion">
            <span (click)="onDocumentView(version)" class="material-icons-outlined me-2 text-primary" matTooltip="view"
              role="button">
              <mat-icon> visibility</mat-icon>
            </span>
            <span (click)="downloadDocument(version)" *ngIf="!data.isAssignUser" role="button" class="me-2 text-primary"
              matTooltip="Download">
              <mat-icon> download</mat-icon>
            </span>
            <ng-container *hasClaim="'all_documents_restore_version'">
              <span (click)="restoreDocumentVersion(version)" role="button" *ngIf="!data.isAssignUser"
                matTooltip="Restore to Current Version" class="material-icons-outlined text-primary">
                <mat-icon> restore</mat-icon>
              </span>
            </ng-container>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</mat-dialog-content>
