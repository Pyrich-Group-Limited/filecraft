"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[2],{5002:(de,f,i)=>{i.r(f),i.d(f,{PageHelperModule:()=>pe});var H=i(177),c=i(1188),d=i(8),e=i(4438),g=i(9437),E=i(1626),T=i(7598);let u=(()=>{class t{httpClient;commonHttpErrorService;constructor(n,r){this.httpClient=n,this.commonHttpErrorService=r}getPageHelpers(){return this.httpClient.get("PageHelper").pipe((0,g.W)(this.commonHttpErrorService.handleError))}updatePageHelper(n){return this.httpClient.put(`PageHelper/${n.id}`,n).pipe((0,g.W)(this.commonHttpErrorService.handleError))}addPageHelper(n){return this.httpClient.post("PageHelper",n).pipe((0,g.W)(this.commonHttpErrorService.handleError))}getPageHelper(n){return this.httpClient.get(`PageHelper/${n}`).pipe((0,g.W)(this.commonHttpErrorService.handleError))}static \u0275fac=function(r){return new(r||t)(e.KVO(E.Qq),e.KVO(T.T))};static \u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var M=i(668),P=i(9301),h=i(5351),l=i(9159),R=i(9036),v=i(5464),S=i(3955);function D(t,o){1&t&&(e.j41(0,"th",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ACTION")," "))}function $(t,o){if(1&t){const n=e.RV6();e.j41(0,"td",20)(1,"button",21),e.bIt("click",function(){const a=e.eBV(n).$implicit,p=e.XpG();return e.Njj(p.managePageHelper(a))}),e.nrm(2,"i-feather",22),e.j41(3,"span",23),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"button",24),e.bIt("click",function(){const a=e.eBV(n).$implicit,p=e.XpG();return e.Njj(p.viewPageHelper(a))}),e.nrm(7,"i-feather",25),e.j41(8,"span",23),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()}2&t&&(e.R7$(4),e.SpI(" ",e.bMT(5,2,"EDIT")," "),e.R7$(5),e.JRh(e.bMT(10,4,"VIEW")))}function j(t,o){1&t&&(e.j41(0,"th",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"NAME")," "))}function y(t,o){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.k0s()),2&t){const n=o.$implicit;e.R7$(),e.JRh(n.name)}}function G(t,o){1&t&&(e.j41(0,"th",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"CODE")," "))}function x(t,o){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.k0s()),2&t){const n=o.$implicit;e.R7$(),e.JRh(n.code)}}function L(t,o){1&t&&e.nrm(0,"tr",27)}function V(t,o){1&t&&e.nrm(0,"tr",28)}let U=(()=>{class t extends d.${router;commonService;dialog;pageHelpers;columnsToDisplay=["action","name","code"];constructor(n,r,a){super(),this.router=n,this.commonService=r,this.dialog=a}ngOnInit(){}viewPageHelper(n){this.commonService.getPageHelperText(n.code).subscribe(r=>{this.dialog.open(M.O,{width:"80vw",maxHeight:"80vh",data:Object.assign({},r)})})}managePageHelper(n){this.router.navigate(["/page-helper/manage",n.id])}static \u0275fac=function(r){return new(r||t)(e.rXU(c.Ix),e.rXU(P.h),e.rXU(h.bZ))};static \u0275cmp=e.VBU({type:t,selectors:[["app-page-helper-list-presentation"]],inputs:{pageHelpers:"pageHelpers"},features:[e.Vt3],decls:24,vars:7,consts:[[1,"content"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-md-6","mb-2"],[1,"mb-0","page-title"],["code","PAGE_HELPERS"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"grid-height-large"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","action"],["class","table-column-fix-188","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","code"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"table-column-fix-188"],["mat-cell",""],["type","button",1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","edit",1,"small-icon"],[1,"d-none","d-sm-inline"],["type","button",1,"btn","btn-primary","btn-sm","me-2",3,"click"],["name","eye",1,"small-icon"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,a){1&r&&(e.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e.EFF(5),e.nI1(6,"translate"),e.nrm(7,"app-page-help-text",5),e.k0s()()(),e.j41(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"table",10),e.qex(13,11),e.DNE(14,D,3,3,"th",12)(15,$,11,6,"td",13),e.bVm(),e.qex(16,14),e.DNE(17,j,3,3,"th",15)(18,y,2,1,"td",13),e.bVm(),e.qex(19,16),e.DNE(20,G,3,3,"th",15)(21,x,2,1,"td",13),e.bVm(),e.DNE(22,L,1,0,"tr",17)(23,V,1,0,"tr",18),e.k0s()()()()()()()),2&r&&(e.R7$(5),e.SpI("",e.bMT(6,5,"PAGE_HELPER")," "),e.R7$(7),e.Y8G("dataSource",a.pageHelpers),e.R7$(10),e.Y8G("matHeaderRowDef",a.columnsToDisplay)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",a.columnsToDisplay))},dependencies:[l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,R.J,v.X,S.D9]})}return t})(),k=(()=>{class t extends d.${pageHelperService;pageHelpers;constructor(n){super(),this.pageHelperService=n}ngOnInit(){this.getPageHelpers()}getPageHelpers(){this.pageHelpers=this.pageHelperService.getPageHelpers()}static \u0275fac=function(r){return new(r||t)(e.rXU(u))};static \u0275cmp=e.VBU({type:t,selectors:[["app-page-helper-list"]],features:[e.Vt3],decls:1,vars:1,consts:[[3,"pageHelpers"]],template:function(r,a){1&r&&e.nrm(0,"app-page-helper-list-presentation",0),2&r&&e.Y8G("pageHelpers",a.pageHelpers)},dependencies:[U]})}return t})();var s=i(9417),N=i(3718),A=i.n(N),X=i(5312),Y=i(5794),O=i(2243),I=i(7852);const _=()=>["/page-helper"];function B(t,o){1&t&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"app-page-help-text",21),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ADD_PAGE_HELPER")," "))}function J(t,o){1&t&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"app-page-help-text",21),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"EDIT_PAGE_HELPER")," "))}function W(t,o){1&t&&(e.j41(0,"div",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"NAME_IS_REQUIRED")," "))}function w(t,o){if(1&t&&(e.j41(0,"div"),e.DNE(1,W,3,3,"div",22),e.k0s()),2&t){let n;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=r.pageHelperForm.get("name").errors)?null:n.required)}}function K(t,o){1&t&&(e.j41(0,"div",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DESCRIPTION_IS_REQUIRED")," "))}function Q(t,o){if(1&t&&(e.j41(0,"div"),e.DNE(1,K,3,3,"div",22),e.k0s()),2&t){let n;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=r.pageHelperForm.get("description").errors)?null:n.required)}}function Z(t,o){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"button",24),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.saveUser())}),e.nrm(2,"i-feather",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm()}2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"SAVE")," "))}function z(t,o){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"button",24),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.saveUser())}),e.nrm(2,"i-feather",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm()}2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"SAVE")," "))}let b=(()=>{class t extends d.${fb;router;activeRoute;pageHelperService;toastrService;commonService;translationService;http;pageHelper;pageHelperForm;editor=A();isEditMode=!1;constructor(n,r,a,p,m,ce,me,ge){super(),this.fb=n,this.router=r,this.activeRoute=a,this.pageHelperService=p,this.toastrService=m,this.commonService=ce,this.translationService=me,this.http=ge}ngOnInit(){this.createPageHelperForm(),this.sub$.sink=this.activeRoute.data.subscribe(n=>{n.pageHelper&&(this.isEditMode=!0,this.pageHelperForm.patchValue(n.pageHelper),this.pageHelper=n.pageHelper)})}createPageHelperForm(){this.pageHelperForm=this.fb.group({id:[""],name:["",[s.k0.required]],description:["",[s.k0.required]]})}createBuildObject(){return{id:this.pageHelperForm.get("id").value,name:this.pageHelperForm.get("name").value,description:this.pageHelperForm.get("description").value}}saveUser(){if(this.pageHelperForm.valid){const n=this.createBuildObject();this.sub$.sink=this.isEditMode?this.pageHelperService.updatePageHelper(n).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PAGE_HELPER_UPDATED_SUCCESSFULLY")),this.router.navigate(["/page-helper"])}):this.pageHelperService.addPageHelper(n).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PAGE_HELPER_CREATED_SUCCESSFULLY")),this.router.navigate(["/page-helper"])})}else this.toastrService.error(this.translationService.getValue("PLEASE_ENTER_PROPER_DATA"))}onReady(n){n.plugins.get("FileRepository").createUploadAdapter=r=>new q(r,this.http,this.toastrService,this.translationService)}static \u0275fac=function(r){return new(r||t)(e.rXU(s.ze),e.rXU(c.Ix),e.rXU(c.nX),e.rXU(u),e.rXU(Y.tw),e.rXU(P.h),e.rXU(O.L),e.rXU(E.Qq))};static \u0275cmp=e.VBU({type:t,selectors:[["app-manage-page-helper"]],features:[e.Vt3],decls:33,vars:19,consts:[[1,"content"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-md-6","mb-2"],["class","mb-0 page-title",4,"ngIf"],[1,"card"],[1,"body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["formControlName","name","type","text",1,"form-control"],[4,"ngIf"],[1,"col-md-12"],[1,"font-weight-bold"],[1,"NgxEditor__Wrapper"],["formControlName","description",3,"ready","editor"],[1,"m-top-10","col-md-12"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],["name","x-circle",1,"small-icon"],[1,"mb-0","page-title"],["code","PAGE_HELPERS"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","save",1,"small-icon"]],template:function(r,a){1&r&&(e.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e.DNE(4,B,4,3,"span",4)(5,J,4,3,"span",4),e.k0s()(),e.j41(6,"div",5)(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.nrm(15,"input",11),e.DNE(16,w,2,1,"div",12),e.k0s()(),e.j41(17,"div",13)(18,"div",10)(19,"label",14),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"div",15)(23,"ckeditor",16),e.bIt("ready",function(m){return a.onReady(m)}),e.k0s()(),e.DNE(24,Q,2,1,"div",12),e.k0s()(),e.j41(25,"div",8)(26,"div",17),e.DNE(27,Z,5,3,"ng-container",12)(28,z,5,3,"ng-container",12),e.j41(29,"button",18),e.nrm(30,"i-feather",19),e.EFF(31),e.nI1(32,"translate"),e.k0s()()()()()()()()()),2&r&&(e.R7$(4),e.Y8G("ngIf",!a.isEditMode),e.R7$(),e.Y8G("ngIf",a.isEditMode),e.R7$(3),e.Y8G("formGroup",a.pageHelperForm),e.R7$(5),e.JRh(e.bMT(14,12,"NAME")),e.R7$(3),e.Y8G("ngIf",a.pageHelperForm.get("name").touched&&a.pageHelperForm.get("name").errors),e.R7$(4),e.SpI(" ",e.bMT(21,14,"DOCUMENT_SUMMARY")," "),e.R7$(3),e.Y8G("editor",a.editor),e.R7$(),e.Y8G("ngIf",a.pageHelperForm.get("description").touched&&a.pageHelperForm.get("description").errors),e.R7$(3),e.Y8G("ngIf",a.isEditMode),e.R7$(),e.Y8G("ngIf",!a.isEditMode),e.R7$(),e.Y8G("routerLink",e.lJ4(18,_)),e.R7$(2),e.SpI(" ",e.bMT(32,16,"CANCEL")," "))},dependencies:[H.bT,c.Wk,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,R.J,I.h,v.X,S.D9]})}return t})();class q{loader;http;toastrService;translationService;constructor(o,n,r,a){this.loader=o,this.http=n,this.toastrService=r,this.translationService=a}upload(){return this.loader.file.then(n=>new Promise((r,a)=>{var p=new FormData;return p.append("upload",n),this.http.post("Document/upload/image",p).subscribe({next:m=>{r({default:`${X.c.apiUrl}${m.url}`})},error:m=>{this.toastrService.error(this.translationService.getValue("ERROR_WHILE_UPLOADING_IMAGE")),a()}})}))}abort(){console.error("aborted")}}let C=(()=>{class t{pageHelperService;constructor(n){this.pageHelperService=n}resolve(n,r){const a=n.paramMap.get("id");return this.pageHelperService.getPageHelper(a)}static \u0275fac=function(r){return new(r||t)(e.KVO(u))};static \u0275prov=e.jDH({token:t,factory:t.\u0275fac})}return t})();const ee=[{path:"",component:k,data:{claimType:"page_helper_manage_page_helper"}},{path:"manage/:id",component:b,resolve:{pageHelper:C},data:{claimType:"page_helper_manage_page_helper"}},{path:"manage",component:b,data:{claimType:"page_helper_manage_page_helper"}}];let te=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=e.$C({type:t});static \u0275inj=e.G2t({imports:[c.iI.forChild(ee),c.iI]})}return t})();var F=i(3887),ne=i(8834),re=i(2765),ae=i(9454),ie=i(9213),oe=i(9115),se=i(2798),le=i(450);let pe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=e.$C({type:t});static \u0275inj=e.G2t({providers:[C],imports:[H.MD,te,s.YN,s.X1,l.tP,h.hM,F.G,s.YN,s.X1,l.tP,h.hM,se.Ve,le.mV,F.G,oe.Cn,ne.Hl,ae.MY,re.g7,ie.m_,I.w,v.M]})}return t})()}}]);