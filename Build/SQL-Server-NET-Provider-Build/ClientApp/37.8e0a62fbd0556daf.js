"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[37],{6037:(b,d,a)=>{a.r(d),a.d(d,{StorageSettingListComponent:()=>bt});var t=a(4438),g=a(9159),u=a(1188),S=a(3955),f=a(4432),m=a(5351),s=a(9417),l=a(4907),p=a(5794),_=a(177),C=a(115),T=a(2798),F=a(6600),v=a(8834),E=a(9213),h=a(5464),I=a(2765),R=a(3887),y=a(2243),D=a(9036);function N(e,o){if(1&e&&(t.j41(0,"mat-option",19),t.EFF(1),t.nI1(2,"storageType"),t.k0s()),2&e){const n=t.XpG().$implicit;t.Y8G("value",n),t.R7$(),t.JRh(t.i5U(2,2,n,""))}}function M(e,o){if(1&e&&(t.qex(0),t.DNE(1,N,3,5,"mat-option",18),t.bVm()),2&e){const n=o.$implicit,i=t.XpG();t.R7$(),t.Y8G("ngIf",n!=i.storageType.LOCAL)}}function $(e,o){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"STORAGE_TYPE_IS_REQUIRED")," "))}function G(e,o){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"NAME_IS_REQUIRED")," "))}function j(e,o){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ACCESS_KEY_IS_REQUIRED")," "))}function A(e,o){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"REGION_IS_REQUIRED")," "))}function x(e,o){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"SECRET_KEY_IS_REQUIRED")," "))}function O(e,o){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"BUCKET_NAME_IS_REQUIRED")," "))}function V(e,o){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ACCOUNT_ID_IS_REQUIRED")," "))}function Y(e,o){if(1&e&&(t.j41(0,"div",7)(1,"label",37),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.nrm(4,"input",38),t.DNE(5,V,3,3,"div",11),t.k0s()),2&e){const n=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,"ACCOUNT_ID")),t.R7$(3),t.Y8G("ngIf",n.storageSettingForm.get("accountId").invalid&&n.storageSettingForm.get("accountId").touched)}}function K(e,o){if(1&e&&(t.qex(0),t.j41(1,"div",7)(2,"label",21),t.EFF(3,"Name"),t.k0s(),t.nrm(4,"input",22),t.DNE(5,G,3,3,"div",11),t.k0s(),t.j41(6,"div",7)(7,"label",23),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.nrm(10,"input",24),t.DNE(11,j,3,3,"div",11),t.k0s(),t.j41(12,"div",7)(13,"label",25),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.nrm(16,"input",26),t.DNE(17,A,3,3,"div",11),t.k0s(),t.j41(18,"div",7)(19,"label",27),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.nrm(22,"input",28),t.DNE(23,x,3,3,"div",11),t.k0s(),t.j41(24,"div",7)(25,"label",29),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.nrm(28,"input",30),t.DNE(29,O,3,3,"div",11),t.k0s(),t.DNE(30,Y,6,4,"div",31),t.j41(31,"div",32),t.nrm(32,"mat-checkbox",33),t.j41(33,"label",34),t.EFF(34),t.nI1(35,"translate"),t.k0s()(),t.j41(36,"div",32),t.nrm(37,"mat-checkbox",35),t.j41(38,"label",36),t.EFF(39),t.nI1(40,"translate"),t.k0s()(),t.bVm()),2&e){const n=t.XpG();t.R7$(5),t.Y8G("ngIf",n.storageSettingForm.get("name").invalid&&n.storageSettingForm.get("name").touched),t.R7$(3),t.JRh(t.bMT(9,12,"ACCESS_KEY")),t.R7$(3),t.Y8G("ngIf",n.storageSettingForm.get("accessKey").invalid&&n.storageSettingForm.get("accessKey").touched),t.R7$(3),t.JRh(t.bMT(15,14,"REGION")),t.R7$(3),t.Y8G("ngIf",n.storageSettingForm.get("region").invalid&&n.storageSettingForm.get("region").touched),t.R7$(3),t.JRh(t.bMT(21,16,"SECRET_KEY")),t.R7$(3),t.Y8G("ngIf",n.storageSettingForm.get("secretKey").invalid&&n.storageSettingForm.get("secretKey").touched),t.R7$(3),t.JRh(t.bMT(27,18,"BUCKET_NAME")),t.R7$(3),t.Y8G("ngIf",n.storageSettingForm.get("bucketName").invalid&&n.storageSettingForm.get("bucketName").touched),t.R7$(),t.Y8G("ngIf",n.storageSettingForm.get("storageType").value.toString()===n.storageType.CLOUDFLARE.toString()),t.R7$(4),t.JRh(t.bMT(35,20,"ENABLE_ENCRYPTION")),t.R7$(5),t.JRh(t.bMT(40,22,"IS_DEFAULT"))}}let U=(()=>{class e{fb;storageSettingForm;storageType=l.e;storageTypes=Object.values(l.e).filter(n=>!isNaN(Number(n)));isLoading=!1;dialogRef=(0,t.WQX)(m.CP);storageSettingService=(0,t.WQX)(f.V);toastrService=(0,t.WQX)(p.tw);router=(0,t.WQX)(u.Ix);translationService=(0,t.WQX)(y.L);constructor(n){this.fb=n,this.storageSettingForm=this.fb.group({storageType:[l.e.LOCAL.toString(),s.k0.required],name:["",s.k0.required],isDefault:[!1],enableEncryption:[!1]})}ngOnInit(){this.createStorageSettingForm()}createStorageSettingForm(){this.storageSettingForm=this.fb.group({storageType:[this.storageType.LOCAL.toString(),s.k0.required],name:["",s.k0.required],isDefault:[!1],enableEncryption:[!1]})}checkControlExists(n){return!!this.storageSettingForm.get(n)}addCloudflareStorageControls(){this.checkControlExists("accessKey")||(this.storageSettingForm.addControl("accessKey",this.fb.control("",[s.k0.required])),this.storageSettingForm.addControl("accountId",this.fb.control("",[s.k0.required])),this.storageSettingForm.addControl("secretKey",this.fb.control("",[s.k0.required])),this.storageSettingForm.addControl("bucketName",this.fb.control("",[s.k0.required])),this.storageSettingForm.addControl("region",this.fb.control("",[s.k0.required])))}addAwsCloudStorageControls(){this.checkControlExists("accessKey")||(this.storageSettingForm.addControl("accessKey",this.fb.control("",[s.k0.required])),this.storageSettingForm.addControl("secretKey",this.fb.control("",[s.k0.required])),this.storageSettingForm.addControl("bucketName",this.fb.control("",[s.k0.required])),this.storageSettingForm.addControl("region",this.fb.control("",[s.k0.required])))}removeAwsCloudStorageControls(){this.checkControlExists("accessKey")&&(this.storageSettingForm.removeControl("accessKey"),this.storageSettingForm.removeControl("secretKey"),this.storageSettingForm.removeControl("bucketName"),this.storageSettingForm.removeControl("region"))}removeCloudflareStorageControls(){this.checkControlExists("accessKey")&&(this.storageSettingForm.removeControl("accessKey"),this.storageSettingForm.removeControl("secretKey"),this.storageSettingForm.removeControl("bucketName"),this.storageSettingForm.removeControl("region"),this.storageSettingForm.removeControl("accountId"))}onStorageTypeChange(n){const i=n.value;i==l.e.AWS.toString()?(this.removeAwsCloudStorageControls(),this.removeCloudflareStorageControls(),this.addAwsCloudStorageControls()):i==l.e.CLOUDFLARE.toString()?(this.removeAwsCloudStorageControls(),this.removeCloudflareStorageControls(),this.addCloudflareStorageControls()):i==l.e.LOCAL.toString()&&(this.removeAwsCloudStorageControls(),this.removeCloudflareStorageControls())}buildObject(){if(this.storageSettingForm.get("storageType")?.value.toString()===l.e.AWS.toString()){const n={accessKey:this.storageSettingForm.get("accessKey")?.value,secretKey:this.storageSettingForm.get("secretKey")?.value,bucketName:this.storageSettingForm.get("bucketName")?.value,region:this.storageSettingForm.get("region")?.value};return{storageType:this.storageSettingForm.get("storageType")?.value,name:this.storageSettingForm.get("name")?.value,isDefault:this.storageSettingForm.get("isDefault")?.value,enableEncryption:this.storageSettingForm.get("enableEncryption")?.value,jsonValue:JSON.stringify(n)}}if(this.storageSettingForm.get("storageType")?.value.toString()===l.e.CLOUDFLARE.toString()){const n={accessKey:this.storageSettingForm.get("accessKey")?.value,secretKey:this.storageSettingForm.get("secretKey")?.value,bucketName:this.storageSettingForm.get("bucketName")?.value,region:this.storageSettingForm.get("region")?.value,accountID:this.storageSettingForm.get("accountId")?.value};return{storageType:this.storageSettingForm.get("storageType")?.value,name:this.storageSettingForm.get("name")?.value,isDefault:this.storageSettingForm.get("isDefault")?.value,enableEncryption:this.storageSettingForm.get("enableEncryption")?.value,jsonValue:JSON.stringify(n)}}if(this.storageSettingForm.get("storageType")?.value.toString()===l.e.LOCAL.toString())return{storageType:this.storageSettingForm.get("storageType")?.value,name:this.storageSettingForm.get("name")?.value,isDefault:this.storageSettingForm.get("isDefault")?.value,enableEncryption:this.storageSettingForm.get("enableEncryption")?.value,jsonValue:""}}saveSettings(){this.storageSettingForm.valid?this.storageSettingService.addStorageSetting(this.buildObject()).subscribe({next:()=>{this.toastrService.success(this.translationService.getValue("STORAGE_SETTING_UPDATED_SUCCESSFULLY")),this.dialogRef.close(),this.router.navigate(["/storage-settings"]),this.isLoading=!1},error:()=>{this.isLoading=!1}}):this.storageSettingForm.markAllAsTouched()}closeDialog(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(t.rXU(s.ok))};static \u0275cmp=t.VBU({type:e,selectors:[["app-manage-storage-setting"]],standalone:!0,features:[t.aNF],decls:30,vars:19,consts:[[1,"d-flex"],["mat-dialog-title","",1,"dialog-title"],["code","STORAGE_SETTINGS"],["mat-icon-button","",1,"ms-auto",3,"click"],["color","warn",1,"close-icon"],[1,"form-group",3,"formGroup"],[1,"row"],[1,"col-md-6"],["for","storageType",1,"form-label"],["id","storageType","formControlName","storageType",1,"form-control",3,"selectionChange","placeholder"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[4,"ngIf"],[1,"mt-2","col-md-12"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","save",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["name","x-circle",1,"small-icon"],[3,"value",4,"ngIf"],[3,"value"],[1,"text-danger"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],["for","accessKey",1,"form-label"],["type","text","id","accessKey","formControlName","accessKey",1,"form-control"],["for","region",1,"form-label"],["type","text","id","region","formControlName","region",1,"form-control"],["for","secretKey",1,"form-label"],["type","text","id","secretKey","formControlName","secretKey",1,"form-control"],["for","bucketName",1,"form-label"],["type","text","id","bucketName","formControlName","bucketName",1,"form-control"],["class","col-md-6",4,"ngIf"],[1,"col-md-12"],["color","primary","formControlName","enableEncryption"],["for","enableEncryption",1,"form-label"],["color","primary","formControlName","isDefault"],["for","isDefault",1,"form-label"],["for","accountId",1,"form-label"],["type","text","id","accountId","formControlName","accountId",1,"form-control"]],template:function(i,r){1&i&&(t.j41(0,"div",0)(1,"span",1),t.EFF(2),t.nI1(3,"translate"),t.nrm(4,"app-page-help-text",2),t.k0s(),t.j41(5,"button",3),t.bIt("click",function(){return r.closeDialog()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-dialog-content")(9,"form",5)(10,"div",6)(11,"div",7)(12,"label",8),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"mat-select",9),t.nI1(16,"translate"),t.bIt("selectionChange",function(Ct){return r.onStorageTypeChange(Ct)}),t.DNE(17,M,2,1,"ng-container",10),t.k0s(),t.DNE(18,$,3,3,"div",11),t.k0s(),t.DNE(19,K,41,24,"ng-container",12),t.j41(20,"div",6)(21,"div",13)(22,"button",14),t.bIt("click",function(){return r.saveSettings()}),t.nrm(23,"i-feather",15),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"button",16),t.bIt("click",function(){return r.closeDialog()}),t.nrm(27,"i-feather",17),t.EFF(28),t.nI1(29,"translate"),t.k0s()()()()()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,9,"STORAGE_SETTINGS")),t.R7$(7),t.Y8G("formGroup",r.storageSettingForm),t.R7$(4),t.JRh(t.bMT(14,11,"STORAGE_TYPE")),t.R7$(2),t.FS9("placeholder",t.bMT(16,13,"SELECT_STORAGE")),t.R7$(2),t.Y8G("ngForOf",r.storageTypes),t.R7$(),t.Y8G("ngIf",r.storageSettingForm.get("storageType").invalid&&r.storageSettingForm.get("storageType").touched),t.R7$(),t.Y8G("ngIf",r.storageSettingForm.get("storageType").value.toString()===r.storageType.AWS.toString()||r.storageSettingForm.get("storageType").value.toString()===r.storageType.CLOUDFLARE.toString()),t.R7$(5),t.SpI(" ",t.bMT(25,15,"SAVE")," "),t.R7$(4),t.SpI(" ",t.bMT(29,17,"CANCEL")," "))},dependencies:[u.iI,S.h,S.D9,s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,_.MD,_.Sq,_.bT,C.K,T.Ve,T.VO,F.wT,F.Sy,m.hM,m.BI,m.Yi,v.Hl,v.iY,E.m_,E.An,h.M,h.X,I.g7,I.So,R.G,D.J]})}return e})();var k=a(450),L=a(4823);const X=()=>({color:"#6777ef"});function W(e,o){1&e&&(t.j41(0,"th",31),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ACTION")," "))}function P(e,o){if(1&e){const n=t.RV6();t.j41(0,"td",32)(1,"div",33)(2,"button",34),t.bIt("click",function(){const r=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.editStorageSetting(r))}),t.nrm(3,"i-feather",35),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()}2&e&&(t.R7$(4),t.SpI(" ",t.bMT(5,1,"EDIT")," "))}function J(e,o){1&e&&(t.j41(0,"th",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"STORAGE_TYPE")," "))}function B(e,o){if(1&e&&(t.j41(0,"td",37),t.EFF(1),t.nI1(2,"storageType"),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,n.storageType,"")," ")}}function Q(e,o){1&e&&(t.j41(0,"th",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"NAME")))}function H(e,o){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"input",39),t.mxI("ngModelChange",function(r){t.eBV(n);const c=t.XpG().$implicit;return t.DH7(c.name,r)||(c.name=r),t.Njj(r)}),t.k0s(),t.bVm()}if(2&e){const n=t.XpG().$implicit,i=t.XpG();t.R7$(),t.R50("ngModel",n.name),t.Y8G("readonly",n.storageType.toString()===i.storageType.LOCAL.toString())}}function w(e,o){if(1&e&&t.EFF(0),2&e){const n=t.XpG().$implicit;t.SpI(" ",n.name," ")}}function Z(e,o){if(1&e&&(t.j41(0,"td",37),t.DNE(1,H,2,2,"ng-container",38)(2,w,1,1,"ng-template",null,0,t.C5r),t.k0s()),2&e){const n=o.$implicit,i=t.sdS(3);t.R7$(),t.Y8G("ngIf",n.isEditing)("ngIfElse",i)}}function q(e,o){1&e&&(t.j41(0,"th",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CONFIGURATION")," "))}function z(e,o){if(1&e&&(t.qex(0),t.j41(1,"mat-icon",41),t.EFF(2," info "),t.k0s(),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(),t.FS9("matTooltip",n.jsonValue),t.Y8G("ngStyle",t.lJ4(2,X))}}function tt(e,o){if(1&e&&(t.j41(0,"td",37),t.DNE(1,z,3,3,"ng-container",40),t.k0s()),2&e){const n=o.$implicit,i=t.XpG();t.R7$(),t.Y8G("ngIf",n.storageType.toString()!=i.storageType.LOCAL.toString())}}function et(e,o){1&e&&(t.j41(0,"th",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"IS_DEFAULT")," "))}function nt(e,o){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"mat-slide-toggle",42),t.mxI("ngModelChange",function(r){t.eBV(n);const c=t.XpG().$implicit;return t.DH7(c.isDefault,r)||(c.isDefault=r),t.Njj(r)}),t.k0s(),t.bVm()}if(2&e){const n=t.XpG().$implicit,i=t.XpG();t.R7$(),t.R50("ngModel",n.isDefault),t.Y8G("disabled",1===i.storageSettings.length)}}function ot(e,o){1&e&&(t.j41(0,"button",45),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"YES")))}function it(e,o){1&e&&(t.j41(0,"button",46),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"NO")))}function at(e,o){if(1&e&&t.DNE(0,ot,3,3,"button",43)(1,it,3,3,"button",44),2&e){const n=t.XpG().$implicit;t.Y8G("ngIf",n.isDefault),t.R7$(),t.Y8G("ngIf",!n.isDefault)}}function rt(e,o){if(1&e&&(t.j41(0,"td",37),t.DNE(1,nt,2,2,"ng-container",38)(2,at,2,2,"ng-template",null,1,t.C5r),t.k0s()),2&e){const n=o.$implicit,i=t.sdS(3);t.R7$(),t.Y8G("ngIf",n.isEditing)("ngIfElse",i)}}function st(e,o){1&e&&(t.j41(0,"th",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ENABLE_ENCRYPTION")," "))}function gt(e,o){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"mat-slide-toggle",47),t.mxI("ngModelChange",function(r){t.eBV(n);const c=t.XpG().$implicit;return t.DH7(c.enableEncryption,r)||(c.enableEncryption=r),t.Njj(r)}),t.k0s(),t.bVm()}if(2&e){const n=t.XpG().$implicit;t.R7$(),t.R50("ngModel",n.enableEncryption)}}function lt(e,o){1&e&&(t.j41(0,"button",45),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"YES")))}function ct(e,o){1&e&&(t.j41(0,"button",46),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"NO")))}function mt(e,o){if(1&e&&t.DNE(0,lt,3,3,"button",43)(1,ct,3,3,"button",44),2&e){const n=t.XpG().$implicit;t.Y8G("ngIf",n.enableEncryption),t.R7$(),t.Y8G("ngIf",!n.enableEncryption)}}function St(e,o){if(1&e&&(t.j41(0,"td",37),t.DNE(1,gt,2,1,"ng-container",38)(2,mt,2,2,"ng-template",null,2,t.C5r),t.k0s()),2&e){const n=o.$implicit,i=t.sdS(3);t.R7$(),t.Y8G("ngIf",n.isEditing)("ngIfElse",i)}}function ut(e,o){1&e&&(t.j41(0,"th",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"UPDATE")))}function pt(e,o){if(1&e){const n=t.RV6();t.j41(0,"button",51),t.bIt("click",function(){t.eBV(n);const r=t.XpG().$implicit,c=t.XpG();return t.Njj(c.saveStorageSetting(r))}),t.nrm(1,"i-feather",52),t.EFF(2),t.nI1(3,"translate"),t.k0s()}2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"SAVE")," "))}function dt(e,o){if(1&e){const n=t.RV6();t.j41(0,"button",53),t.bIt("click",function(){t.eBV(n);const r=t.XpG().$implicit,c=t.XpG();return t.Njj(c.cancelEditing(r))}),t.nrm(1,"i-feather",54),t.EFF(2),t.nI1(3,"translate"),t.k0s()}2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"CANCEL")," "))}function _t(e,o){if(1&e&&(t.j41(0,"td",37)(1,"div",48)(2,"div"),t.DNE(3,pt,4,3,"button",49)(4,dt,4,3,"button",50),t.k0s()()()),2&e){const n=o.$implicit;t.R7$(3),t.Y8G("ngIf",n.isEditing),t.R7$(),t.Y8G("ngIf",n.isEditing)}}function ft(e,o){1&e&&(t.j41(0,"tr")(1,"td",55)(2,"div",56)(3,"b"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()()),2&e&&(t.R7$(4),t.SpI(" ",t.bMT(5,1,"NO_DATA_FOUND"),""))}function Et(e,o){1&e&&t.nrm(0,"tr",57)}function ht(e,o){1&e&&t.nrm(0,"tr",58)}let bt=(()=>{class e{storageSettings=[];storageType=l.e;displayedColumns=["action","storageType","name","jsonValue","isDefault","enableEncryption"];sub$={sink:null};isLoadingResults=!1;fb=(0,t.WQX)(s.ok);smtpSettingForm=this.fb.group({isDefault:[!1]});storageSettingService=(0,t.WQX)(f.V);dialog=(0,t.WQX)(m.bZ);toastrService=(0,t.WQX)(p.tw);translationService=(0,t.WQX)(y.L);ngOnInit(){this.getStorageSetting()}getStorageSetting(){this.storageSettingService.getStorageSettings().subscribe({next:n=>{this.storageSettings=n},error:n=>{}})}onCreateStorageSetting(){const n=this.dialog.open(U,{width:"600px"});this.sub$.sink=n.afterClosed().subscribe(i=>{this.getStorageSetting()})}editStorageSetting(n){n.isEditing=!0,this.updateDisplayedColumns()}isAnyEditing(){return this.storageSettings.some(n=>n.isEditing)}updateDisplayedColumns(){this.displayedColumns=["action","storageType","name","jsonValue","isDefault","enableEncryption"],this.isAnyEditing()&&this.displayedColumns.push("update")}saveStorageSetting(n){n.isEditing=!1,this.storageSettingService.updateStorageSetting(n).subscribe({next:()=>{this.toastrService.success(this.translationService.getValue("STORAGE_SETTING_UPDATED_SUCCESSFULLY")),this.getStorageSetting()},error:i=>{this.toastrService.error(this.translationService.getValue("ERROR_UPDATING_STORAGE_SETTING"))}}),this.updateDisplayedColumns()}cancelEditing(n){n.isEditing=!1,this.updateDisplayedColumns()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-storage-setting-list"]],standalone:!0,features:[t.aNF],decls:42,vars:11,consts:[["displayName",""],["displayIsDefault",""],["displayEnableEncryption",""],[1,"content"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-md-6","mb-2"],[1,"mb-0","page-title"],[3,"code"],[1,"col-md-6","d-flex","justify-content-end","mb-2"],[1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","plus"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"grid-height-large"],["mat-table","",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","","class","table-column-150",4,"matHeaderCellDef"],["mat-cell","","class","table-column-150",4,"matCellDef"],["matColumnDef","storageType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","jsonValue"],["matColumnDef","isDefault"],["matColumnDef","enableEncryption"],["matColumnDef","update"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"table-column-150"],["mat-cell","",1,"table-column-150"],[1,"btn-group"],["type","button",1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","edit",1,"small-icon"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["placeholder","Enter name",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","readonly"],[4,"ngIf"],["matTooltipPosition","above",3,"ngStyle","matTooltip"],["color","primary",3,"ngModelChange","ngModel","disabled"],["class","btn btn-success btn-sm",4,"ngIf"],["class","btn btn-light btn-sm",4,"ngIf"],[1,"btn","btn-success","btn-sm"],[1,"btn","btn-light","btn-sm"],["color","primary",3,"ngModelChange","ngModel"],[1,"row"],["class","btn btn-success btn-sm me-2 table-column-100","cdkFocusInitial","",3,"click",4,"ngIf"],["type","button","class","btn btn-danger btn-sm table-column-100",3,"click",4,"ngIf"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","me-2","table-column-100",3,"click"],["name","save",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm","table-column-100",3,"click"],["name","x-circle",1,"small-icon"],["colspan","5"],[1,"m-2"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.j41(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.nrm(7,"app-page-help-text",8),t.k0s(),t.j41(8,"div",9)(9,"button",10),t.bIt("click",function(){return r.onCreateStorageSetting()}),t.nrm(10,"i-feather",11),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",12)(14,"div",13)(15,"div",14)(16,"div",15)(17,"table",16),t.qex(18,17),t.DNE(19,W,3,3,"th",18)(20,P,6,3,"td",19),t.bVm(),t.qex(21,20),t.DNE(22,J,3,3,"th",21)(23,B,3,4,"td",22),t.bVm(),t.qex(24,23),t.DNE(25,Q,3,3,"th",21)(26,Z,4,2,"td",22),t.bVm(),t.qex(27,24),t.DNE(28,q,3,3,"th",21)(29,tt,2,1,"td",22),t.bVm(),t.qex(30,25),t.DNE(31,et,3,3,"th",21)(32,rt,4,2,"td",22),t.bVm(),t.qex(33,26),t.DNE(34,st,3,3,"th",21)(35,St,4,2,"td",22),t.bVm(),t.qex(36,27),t.DNE(37,ut,3,3,"th",21)(38,_t,5,2,"td",22),t.bVm(),t.DNE(39,ft,6,3,"tr",28)(40,Et,1,0,"tr",29)(41,ht,1,0,"tr",30),t.k0s()()()()()()()),2&i&&(t.R7$(5),t.JRh(t.bMT(6,7,"STORAGE_SETTINGS")),t.R7$(2),t.Y8G("code","STORAGE_SETTINGS"),t.R7$(4),t.SpI(" ",t.bMT(12,9,"ADD_STORAGE_SETTING")," "),t.R7$(6),t.Y8G("dataSource",r.storageSettings),t.R7$(23),t.Y8G("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",r.displayedColumns))},dependencies:[u.iI,S.h,S.D9,g.tP,g.Zl,g.tL,g.ji,g.cC,g.YV,g.iL,g.KS,g.$R,g.YZ,g.NB,g.ky,_.MD,_.bT,_.B3,k.mV,k.sG,s.YN,s.me,s.BC,s.vS,C.K,L.uc,L.oV,E.m_,E.An,h.M,h.X,R.G,D.J]})}return e})()},4432:(b,d,a)=>{a.d(d,{V:()=>f});var t=a(4438),g=a(1626),u=a(9437),S=a(7598);let f=(()=>{class m{commonHttpErrorService=(0,t.WQX)(S.T);httpClient=(0,t.WQX)(g.Qq);getStorageSettings(){return this.httpClient.get("storagesetting").pipe((0,u.W)(this.commonHttpErrorService.handleError))}getStorageSetting(l){return this.httpClient.get(`storagesetting/${l}`).pipe((0,u.W)(this.commonHttpErrorService.handleError))}addStorageSetting(l){return this.httpClient.post("storagesetting",l).pipe((0,u.W)(this.commonHttpErrorService.handleError))}updateStorageSetting(l){return this.httpClient.post(`storagesetting/${l.id}`,l).pipe((0,u.W)(this.commonHttpErrorService.handleError))}static \u0275fac=function(p){return new(p||m)};static \u0275prov=t.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},4907:(b,d,a)=>{a.d(d,{e:()=>t});var t=function(g){return g[g.AWS=0]="AWS",g[g.CLOUDFLARE=1]="CLOUDFLARE",g[g.LOCAL=2]="LOCAL",g}(t||{})},115:(b,d,a)=>{a.d(d,{K:()=>u});var t=a(4907),g=a(4438);let u=(()=>{class S{transform(m,...s){const l=s[0]?`- ${s[0]}`:"";switch(m){case t.e.LOCAL:return"Local";case t.e.AWS:return`AWS ${l}`;case t.e.CLOUDFLARE:return`Cloudflare-R2 ${l}`;default:return"Unknown"}}static \u0275fac=function(s){return new(s||S)};static \u0275pipe=g.EJ8({name:"storageType",type:S,pure:!0,standalone:!0})}return S})()}}]);