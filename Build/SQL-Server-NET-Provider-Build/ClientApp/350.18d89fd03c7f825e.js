"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[350],{3824:(L,d,n)=>{n.d(d,{u:()=>u});class u{fields="";orderBy="";searchQuery="";pageSize=30;skip=0;name="";totalCount=0;metaTags=""}},6301:(L,d,n)=>{n.r(d),n.d(d,{LoginAuditModule:()=>lt});var u=n(177),a=n(9159),c=n(2042),m=n(6695),v=n(9631),g=n(1188),R=n(3870),C=n(4904),T=n(7786),b=n(3726),h=n(8141),I=n(152),D=n(3294),F=n(8),p=n(4412),E=n(7673),f=n(9437),$=n(980);class j{loginAuditService;loginAuditSubject=new p.t([]);responseHeaderSubject=new p.t(null);loadingSubject=new p.t(!1);loading$=this.loadingSubject.asObservable();_count=0;get count(){return this._count}responseHeaderSubject$=this.responseHeaderSubject.asObservable();constructor(o){this.loginAuditService=o}connect(){return this.loginAuditSubject.asObservable()}disconnect(){this.loginAuditSubject.complete(),this.loadingSubject.complete()}loadLoginAudits(o){this.loadingSubject.next(!0),this.loginAuditService.getLoginAudits(o).pipe((0,f.W)(()=>(0,E.of)([])),(0,$.j)(()=>this.loadingSubject.next(!1))).subscribe(i=>{const s=JSON.parse(i.headers.get("X-Pagination"));this.responseHeaderSubject.next(s);const l=[...i.body];this._count=l.length,this.loginAuditSubject.next(l)})}}var t=n(4438),S=n(1626),y=n(7598);let x=(()=>{class e{httpClient;commonHttpErrorService;constructor(i,s){this.httpClient=i,this.commonHttpErrorService=s}getLoginAudits(i){const l=(new S.Nl).set("Fields",i.fields).set("OrderBy",i.orderBy).set("PageSize",i.pageSize.toString()).set("Skip",i.skip.toString()).set("SearchQuery",i.searchQuery).set("id",i.id.toString()).set("userName",i.userName.toString());return this.httpClient.get("LoginAudit",{params:l,observe:"response"}).pipe((0,f.W)(this.commonHttpErrorService.handleError))}static \u0275fac=function(s){return new(s||e)(t.KVO(S.Qq),t.KVO(y.T))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var N=n(9036),A=n(3955),G=n(9519);const M=["input"],O=()=>[10,20,30];function k(e,o){1&e&&(t.j41(0,"th",31),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DATE_TIME")," "))}function H(e,o){if(1&e&&(t.j41(0,"td",32),t.EFF(1),t.nI1(2,"utcToLocalTime"),t.k0s()),2&e){const i=o.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,null==i?null:i.loginTime,"full")," ")}}function z(e,o){1&e&&(t.j41(0,"th",31),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"EMAIL")," "))}function B(e,o){if(1&e&&(t.j41(0,"td",32),t.EFF(1),t.k0s()),2&e){const i=o.$implicit;t.R7$(),t.SpI(" ",i.userName," ")}}function P(e,o){1&e&&(t.j41(0,"th",31),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"STATUS")," "))}function U(e,o){if(1&e&&(t.j41(0,"span",35),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,null==i||null==i.status?null:i.status.toUpperCase()))}}function V(e,o){if(1&e&&(t.j41(0,"span",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,null==i||null==i.status?null:i.status.toUpperCase()))}}function Y(e,o){if(1&e&&(t.j41(0,"td",32),t.DNE(1,U,3,3,"span",33)(2,V,3,3,"span",34),t.k0s()),2&e){const i=o.$implicit;t.R7$(),t.Y8G("ngIf","Success"==(null==i?null:i.status)),t.R7$(),t.Y8G("ngIf","Error"==(null==i?null:i.status))}}function w(e,o){1&e&&(t.j41(0,"th",31),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"IP_ADDRESS")," "))}function Q(e,o){if(1&e&&(t.j41(0,"td",32),t.EFF(1),t.k0s()),2&e){const i=o.$implicit;t.R7$(),t.SpI(" ",i.remoteIP," ")}}function J(e,o){1&e&&(t.j41(0,"th",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"LATITUDE")," "))}function X(e,o){if(1&e&&(t.j41(0,"td",32),t.EFF(1),t.k0s()),2&e){const i=o.$implicit;t.R7$(),t.SpI(" ",i.latitude," ")}}function K(e,o){1&e&&(t.j41(0,"th",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"LONGITUDE")," "))}function W(e,o){if(1&e&&(t.j41(0,"td",32),t.EFF(1),t.k0s()),2&e){const i=o.$implicit;t.R7$(),t.SpI(" ",i.longitude," ")}}function Z(e,o){if(1&e&&(t.j41(0,"td",38),t.nrm(1,"mat-paginator",39),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("length",i.loginAuditResource.totalCount)("pageSize",i.loginAuditResource.pageSize)("pageSizeOptions",t.lJ4(3,O))}}function q(e,o){1&e&&t.nrm(0,"tr",40)}function _(e,o){1&e&&t.nrm(0,"tr",41)}function tt(e,o){1&e&&t.nrm(0,"tr",42)}function et(e,o){1&e&&(t.j41(0,"tr")(1,"td")(2,"div",43)(3,"b"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()()),2&e&&(t.R7$(4),t.SpI(" ",t.bMT(5,1,"NO_DATA_FOUND"),""))}function it(e,o){1&e&&(t.j41(0,"div",44)(1,"div",45)(2,"span",46),t.EFF(3,"Loading..."),t.k0s()()())}const nt=[{path:"",component:(()=>{class e extends F.${loginAuditService;dataSource;loginAudits=[];displayedColumns=["loginTime","userName","remoteIP","status","latitude","longitude"];isLoadingResults=!0;loginAuditResource;loading$;paginator;sort;input;footerToDisplayed=["footer"];constructor(i){super(),this.loginAuditService=i,this.loginAuditResource=new C.l,this.loginAuditResource.pageSize=10,this.loginAuditResource.orderBy="loginTime desc"}ngOnInit(){this.dataSource=new j(this.loginAuditService),this.dataSource.loadLoginAudits(this.loginAuditResource),this.getResourceParameter()}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,T.h)(this.sort.sortChange,this.paginator.page).pipe((0,h.M)(i=>{this.loginAuditResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.loginAuditResource.pageSize=this.paginator.pageSize,this.loginAuditResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadLoginAudits(this.loginAuditResource)})).subscribe(),this.sub$.sink=(0,b.R)(this.input.nativeElement,"keyup").pipe((0,I.B)(1e3),(0,D.F)(),(0,h.M)(()=>{this.paginator.pageIndex=0,this.loginAuditResource.skip=0,this.loginAuditResource.userName=this.input.nativeElement.value,this.dataSource.loadLoginAudits(this.loginAuditResource)})).subscribe()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(i=>{i&&(this.loginAuditResource.pageSize=i.pageSize,this.loginAuditResource.skip=i.skip,this.loginAuditResource.totalCount=i.totalCount)})}static \u0275fac=function(s){return new(s||e)(t.rXU(x))};static \u0275cmp=t.VBU({type:e,selectors:[["app-login-audit-list"]],viewQuery:function(s,l){if(1&s&&(t.GBs(m.iy,5),t.GBs(c.B4,5),t.GBs(M,5)),2&s){let r;t.mGM(r=t.lsd())&&(l.paginator=r.first),t.mGM(r=t.lsd())&&(l.sort=r.first),t.mGM(r=t.lsd())&&(l.input=r.first)}},features:[t.Vt3],decls:44,vars:16,consts:[["input",""],[1,"content"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-md-6","mb-2"],[1,"mb-0","page-title"],[3,"code"],[1,"card"],[1,"header"],[1,"m-2","col-sm-5"],[1,"form-control",3,"placeholder"],[1,"body"],[1,"table-responsive"],[1,"grid-height-medium"],["mat-table","","matSort","","matSortActive","loginTime","matSortDirection","desc",3,"dataSource"],["matColumnDef","loginTime"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","status"],["matColumnDef","remoteIP"],["matColumnDef","latitude"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","longitude"],["matColumnDef","footer"],["mat-footer-cell","","colspan","6",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],[4,"matNoDataRow"],["class","spinner-container",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"badge","bg-success"],[1,"badge","bg-danger"],["mat-header-cell",""],["mat-footer-cell","","colspan","6"],[3,"length","pageSize","pageSizeOptions"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[1,"m-2"],[1,"spinner-container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(s,l){1&s&&(t.j41(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.nrm(7,"app-page-help-text",6),t.k0s()(),t.j41(8,"div",7)(9,"div",8)(10,"div",9),t.nrm(11,"input",10,0),t.nI1(13,"translate"),t.k0s()(),t.j41(14,"div",11)(15,"div",12)(16,"div",13)(17,"table",14),t.qex(18,15),t.DNE(19,k,3,3,"th",16)(20,H,3,4,"td",17),t.bVm(),t.qex(21,18),t.DNE(22,z,3,3,"th",16)(23,B,2,1,"td",17),t.bVm(),t.qex(24,19),t.DNE(25,P,3,3,"th",16)(26,Y,3,2,"td",17),t.bVm(),t.qex(27,20),t.DNE(28,w,3,3,"th",16)(29,Q,2,1,"td",17),t.bVm(),t.qex(30,21),t.DNE(31,J,3,3,"th",22)(32,X,2,1,"td",17),t.bVm(),t.qex(33,23),t.DNE(34,K,3,3,"th",22)(35,W,2,1,"td",17),t.bVm(),t.qex(36,24),t.DNE(37,Z,2,4,"td",25),t.bVm(),t.DNE(38,q,1,0,"tr",26)(39,_,1,0,"tr",27)(40,tt,1,0,"tr",28)(41,et,6,3,"tr",29),t.k0s()()()()()()(),t.DNE(42,it,4,0,"div",30),t.nI1(43,"async")),2&s&&(t.R7$(5),t.JRh(t.bMT(6,10,"LOGIN_AUDIT_LOGS")),t.R7$(2),t.Y8G("code","LOGIN_AUDIT_LOGS"),t.R7$(4),t.FS9("placeholder",t.bMT(13,12,"SEARCH_BY_USERNAME")),t.R7$(6),t.Y8G("dataSource",l.dataSource),t.R7$(21),t.Y8G("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",l.displayedColumns),t.R7$(),t.Y8G("matFooterRowDef",l.footerToDisplayed)("matFooterRowDefSticky",!0),t.R7$(2),t.Y8G("ngIf",t.bMT(43,14,l.dataSource.loading$)))},dependencies:[u.bT,a.Zl,a.tL,a.ji,a.cC,a.YV,a.iL,a.Zq,a.xW,a.KS,a.$R,a.Qo,a.YZ,a.NB,a.iF,a.ky,c.B4,c.aE,m.iy,N.J,u.Jj,A.D9,G.o],styles:[".badge[_ngcontent-%COMP%]{font-weight:400;padding:.5em .6em}"]})}return e})(),data:{claimType:"login_audit_view_login_audit_logs"},canActivate:[R.q]}];let ot=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[g.iI.forChild(nt),g.iI]})}return e})();var st=n(3887),at=n(3679);let lt=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[u.MD,a.tP,c.NQ,m.Ou,v.fS,ot,A.h,st.G,at.Y]})}return e})()}}]);