"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[516],{7516:(ft,E,m)=>{m.r(E),m.d(E,{EmailSmtpSettingModule:()=>gt});var c=m(177),l=m(1188),f=m(8),t=m(4438),S=m(9437),F=m(1626),R=m(7598);let g=(()=>{class e{httpClient;commonHttpErrorService;constructor(n,i){this.httpClient=n,this.commonHttpErrorService=i}getEmailSMTPSettings(){return this.httpClient.get("EmailSMTPSetting").pipe((0,S.W)(this.commonHttpErrorService.handleError))}getEmailSMTPSetting(n){return this.httpClient.get(`EmailSMTPSetting/${n}`).pipe((0,S.W)(this.commonHttpErrorService.handleError))}addEmailSMTPSetting(n){return this.httpClient.post("EmailSMTPSetting",n).pipe((0,S.W)(this.commonHttpErrorService.handleError))}updateEmailSMTPSetting(n){return this.httpClient.put(`EmailSMTPSetting/${n.id}`,n).pipe((0,S.W)(this.commonHttpErrorService.handleError))}deleteEmailSMTPSetting(n){return this.httpClient.delete(`EmailSMTPSetting/${n}`).pipe((0,S.W)(this.commonHttpErrorService.handleError))}static \u0275fac=function(i){return new(i||e)(t.KVO(F.Qq),t.KVO(R.T))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var C=m(4481),T=m(5794),h=m(2243),v=m(9036),r=m(9159),u=m(5464),_=m(3955);const D=()=>["/email-smtp/manage"],$=e=>["/email-smtp/manage",e];function k(e,a){1&e&&(t.j41(0,"th",25),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"ACTION")," "))}function N(e,a){if(1&e){const n=t.RV6();t.j41(0,"td",26)(1,"button",27),t.nrm(2,"i-feather",28),t.j41(3,"span",29),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"button",30),t.bIt("click",function(){const s=t.eBV(n).$implicit,p=t.XpG();return t.Njj(p.deleteEmailSMTPSetting(s))}),t.nrm(7,"i-feather",31),t.j41(8,"span",29),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}if(2&e){const n=a.$implicit;t.R7$(),t.Y8G("routerLink",t.eq3(7,$,n.id)),t.R7$(3),t.SpI(" ",t.bMT(5,3,"EDIT"),""),t.R7$(5),t.SpI(" ",t.bMT(10,5,"DELETE"),"")}}function L(e,a){1&e&&(t.j41(0,"th",32),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"HOST")," "))}function j(e,a){if(1&e&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.SpI(" ",n.host," ")}}function P(e,a){1&e&&(t.j41(0,"th",32),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"USER_NAME"),""))}function G(e,a){if(1&e&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.SpI(" ",n.userName," ")}}function A(e,a){1&e&&(t.j41(0,"th",32),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"PORT")," "))}function x(e,a){if(1&e&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.SpI(" ",n.port," ")}}function U(e,a){1&e&&(t.j41(0,"th",32),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"IS_DEFAULT")," "))}function Y(e,a){1&e&&(t.j41(0,"button",35),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"YES")))}function y(e,a){1&e&&(t.j41(0,"button",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"NO")))}function V(e,a){if(1&e&&(t.j41(0,"td",26),t.DNE(1,Y,3,3,"button",33)(2,y,3,3,"button",34),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.Y8G("ngIf",n.isDefault),t.R7$(),t.Y8G("ngIf",!n.isDefault)}}function O(e,a){1&e&&(t.j41(0,"tr")(1,"td",37)(2,"div",38)(3,"b"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()()),2&e&&(t.R7$(4),t.SpI(" ",t.bMT(5,1,"NO_DATA_FOUND"),""))}function X(e,a){1&e&&t.nrm(0,"tr",39)}function H(e,a){1&e&&t.nrm(0,"tr",40)}let w=(()=>{class e extends f.${emailSmtpSettingService;commonDialogService;toastrService;translationService;emailSMTPSettings=[];displayedColumns=["action","userName","host","port","isDefault"];constructor(n,i,s,p){super(),this.emailSmtpSettingService=n,this.commonDialogService=i,this.toastrService=s,this.translationService=p}ngOnInit(){this.getEmailSMTPSettings()}getEmailSMTPSettings(){this.sub$.sink=this.emailSmtpSettingService.getEmailSMTPSettings().subscribe(n=>{this.emailSMTPSettings=n})}deleteEmailSMTPSetting(n){this.emailSMTPSettings.length<=1?this.toastrService.error(this.translationService.getValue("CANNOT_DELETE_THE_LAST_SMTP_SETTING")):this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")} ${n.host}`).subscribe(i=>{i&&(this.sub$.sink=this.emailSmtpSettingService.deleteEmailSMTPSetting(n.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("EMAIL_SMTP_SETUP_DELETED_SUCCESSFULLY")),this.getEmailSMTPSettings()}))})}static \u0275fac=function(i){return new(i||e)(t.rXU(g),t.rXU(C.Z),t.rXU(T.tw),t.rXU(h.L))};static \u0275cmp=t.VBU({type:e,selectors:[["app-email-smtp-setting-list"]],features:[t.Vt3],decls:36,vars:13,consts:[[1,"content"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-md-6","mb-2"],[1,"mb-0","page-title"],[3,"code"],[1,"col-md-6","d-flex","justify-content-end","mb-2"],[1,"btn","btn-success","btn-sm","me-2",3,"routerLink"],["name","save",1,"small-icon"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"grid-height-large"],["mat-table","",3,"dataSource"],["matColumnDef","action"],["class","table-column-fix-188","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","host"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","userName"],["matColumnDef","port"],["matColumnDef","isDefault"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"table-column-fix-188"],["mat-cell",""],["type","button",1,"btn","btn-success","btn-sm","me-2",3,"routerLink"],["name","edit"],[1,"d-none","d-sm-inline"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["name","trash"],["mat-header-cell",""],["class","btn btn-success btn-sm",4,"ngIf"],["class","btn btn-light btn-sm",4,"ngIf"],[1,"btn","btn-success","btn-sm"],[1,"btn","btn-light","btn-sm"],["colspan","5"],[1,"m-2"],["mat-header-row",""],["mat-row",""]],template:function(i,s){1&i&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.nrm(7,"app-page-help-text",5),t.k0s(),t.j41(8,"div",6)(9,"button",7),t.nrm(10,"i-feather",8),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"table",13),t.qex(18,14),t.DNE(19,k,3,3,"th",15)(20,N,11,9,"td",16),t.bVm(),t.qex(21,17),t.DNE(22,L,3,3,"th",18)(23,j,2,1,"td",16),t.bVm(),t.qex(24,19),t.DNE(25,P,3,3,"th",18)(26,G,2,1,"td",16),t.bVm(),t.qex(27,20),t.DNE(28,A,3,3,"th",18)(29,x,2,1,"td",16),t.bVm(),t.qex(30,21),t.DNE(31,U,3,3,"th",18)(32,V,3,2,"td",16),t.bVm(),t.DNE(33,O,6,3,"tr",22)(34,X,1,0,"tr",23)(35,H,1,0,"tr",24),t.k0s()()()()()()()),2&i&&(t.R7$(5),t.JRh(t.bMT(6,8,"EMAIL_SMTP_SETTINGS")),t.R7$(2),t.Y8G("code","EMAIL_SMTP_SETTINGS"),t.R7$(2),t.Y8G("routerLink",t.lJ4(12,D)),t.R7$(2),t.SpI(" ",t.bMT(12,10,"ADD_SMTP_SETTING")," "),t.R7$(6),t.Y8G("dataSource",s.emailSMTPSettings),t.R7$(17),t.Y8G("matHeaderRowDef",s.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",s.displayedColumns))},dependencies:[c.bT,v.J,l.Wk,r.Zl,r.tL,r.ji,r.cC,r.YV,r.iL,r.KS,r.$R,r.YZ,r.NB,r.ky,u.X,_.D9]})}return e})();var d=m(3870),o=m(9417),J=m(9301),I=m(450);const B=()=>["/email-smtp"];function W(e,a){1&e&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"translate"),t.nrm(3,"app-page-help-text",23),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"ADD_EMAIL_SMTP_SETTING")))}function Q(e,a){1&e&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"translate"),t.nrm(3,"app-page-help-text",23),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"EDIT_EMAIL_SMTP_SETTING")))}function K(e,a){1&e&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"HOST_IS_REQUIRED")," "))}function Z(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,K,3,3,"div",24),t.k0s()),2&e){let n;const i=t.XpG();t.R7$(),t.Y8G("ngIf",null==(n=i.smtpSettingForm.get("host").errors)?null:n.required)}}function q(e,a){1&e&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"PORT_IS_REQUIRED")," "))}function z(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,q,3,3,"div",24),t.k0s()),2&e){let n;const i=t.XpG();t.R7$(),t.Y8G("ngIf",null==(n=i.smtpSettingForm.get("port").errors)?null:n.required)}}function tt(e,a){1&e&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"USER_NAME_IS_REQUIRED")," "))}function et(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,tt,3,3,"div",24),t.k0s()),2&e){let n;const i=t.XpG();t.R7$(),t.Y8G("ngIf",null==(n=i.smtpSettingForm.get("userName").errors)?null:n.required)}}function nt(e,a){1&e&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"PASSWORD_IS_REQUIRED")," "))}function it(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,nt,3,3,"div",24),t.k0s()),2&e){let n;const i=t.XpG();t.R7$(),t.Y8G("ngIf",null==(n=i.smtpSettingForm.get("password").errors)?null:n.required)}}function at(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ENABLE_SSL")," "))}function st(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ENABLE_SSL")," "))}function mt(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"IS_DEFAULT")," "))}function ot(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"IS_DEFAULT")," "))}function rt(e,a){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",26),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.saveEmailSMTPSetting())}),t.nrm(2,"i-feather",27),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.bVm()}2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"SAVE"),""))}function lt(e,a){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",26),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.saveEmailSMTPSetting())}),t.nrm(2,"i-feather",27),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.bVm()}2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"SAVE"),""))}let M=(()=>{class e extends f.${router;fb;activeRoute;emailSmtpSettingService;toastrService;translationService;commonService;isEditMode=!1;smtpSettingForm;smtpConfigured=!1;constructor(n,i,s,p,ut,dt,Et){super(),this.router=n,this.fb=i,this.activeRoute=s,this.emailSmtpSettingService=p,this.toastrService=ut,this.translationService=dt,this.commonService=Et}ngOnInit(){this.createEmailSMTPForm(),this.sub$.sink=this.activeRoute.data.subscribe(n=>{n.smtpSetting&&(this.isEditMode=!0,this.smtpSettingForm.patchValue(n.smtpSetting))})}createEmailSMTPForm(){this.smtpSettingForm=this.fb.group({id:[""],host:["",[o.k0.required]],userName:["",[o.k0.required]],password:["",[o.k0.required]],isEnableSSL:[!1],port:["",[o.k0.required]],isDefault:[!1]})}saveEmailSMTPSetting(){if(this.smtpSettingForm.valid){const n=this.createBuildObject();this.sub$.sink=this.isEditMode?this.emailSmtpSettingService.updateEmailSMTPSetting(n).subscribe(()=>{this.commonService.setIsSmtpConfigured(!0),this.toastrService.success(this.translationService.getValue("EMAIL_SMTP_SETTING_UPDATED_SUCCESSFULLY")),this.router.navigate(["/email-smtp"])}):this.emailSmtpSettingService.addEmailSMTPSetting(n).subscribe(()=>{this.commonService.setIsSmtpConfigured(!0),this.toastrService.success(this.translationService.getValue("EMAIL_SMTP_SETTING_CREATED_SUCCESSFULLY")),this.router.navigate(["/email-smtp"])})}else this.smtpSettingForm.markAllAsTouched()}createBuildObject(){return{id:this.smtpSettingForm.get("id").value,host:this.smtpSettingForm.get("host").value,userName:this.smtpSettingForm.get("userName").value,password:this.smtpSettingForm.get("password").value,isEnableSSL:this.smtpSettingForm.get("isEnableSSL").value,port:this.smtpSettingForm.get("port").value,isDefault:this.smtpSettingForm.get("isDefault").value}}static \u0275fac=function(i){return new(i||e)(t.rXU(l.Ix),t.rXU(o.ze),t.rXU(l.nX),t.rXU(g),t.rXU(T.tw),t.rXU(h.L),t.rXU(J.h))};static \u0275cmp=t.VBU({type:e,selectors:[["app-manage-email-smtp-setting"]],features:[t.Vt3],decls:53,vars:30,consts:[[1,"content"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-md-6","mb-2"],["class","mb-0 page-title",4,"ngIf"],[1,"card"],[1,"body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["formControlName","host","type","text",1,"form-control"],[4,"ngIf"],["formControlName","port","type","number",1,"form-control"],["formControlName","userName","type","text",1,"form-control"],["autocomplete","new-password","formControlName","password","type","password",1,"form-control"],[1,"form-group","col-md-6","status-switch"],["color","primary","formControlName","isEnableSSL"],["color","primary","formControlName","isDefault"],[1,"m-top-10","col-md-12"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],["name","x-circle",1,"small-icon"],[1,"mb-0","page-title"],["code","MANAGE_EMAIL_SMTP_SETTING"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","save",1,"small-icon"]],template:function(i,s){1&i&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t.DNE(4,W,4,3,"span",4)(5,Q,4,3,"span",4),t.k0s()(),t.j41(6,"div",5)(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.nrm(15,"input",11),t.DNE(16,Z,2,1,"div",12),t.k0s()(),t.j41(17,"div",9)(18,"div",10)(19,"label"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.nrm(22,"input",13),t.DNE(23,z,2,1,"div",12),t.k0s()(),t.j41(24,"div",9)(25,"div",10)(26,"label"),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.nrm(29,"input",14),t.DNE(30,et,2,1,"div",12),t.k0s()(),t.j41(31,"div",9)(32,"div",10)(33,"label"),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.nrm(36,"input",15),t.DNE(37,it,2,1,"div",12),t.k0s()(),t.j41(38,"div",16)(39,"mat-slide-toggle",17),t.DNE(40,at,3,3,"span",12)(41,st,3,3,"span",12),t.k0s()(),t.j41(42,"div",16)(43,"mat-slide-toggle",18),t.DNE(44,mt,3,3,"span",12)(45,ot,3,3,"span",12),t.k0s()(),t.j41(46,"div",19),t.DNE(47,rt,5,3,"ng-container",12)(48,lt,5,3,"ng-container",12),t.j41(49,"button",20),t.nrm(50,"i-feather",21),t.EFF(51),t.nI1(52,"translate"),t.k0s()()()()()()()()),2&i&&(t.R7$(4),t.Y8G("ngIf",!s.isEditMode),t.R7$(),t.Y8G("ngIf",s.isEditMode),t.R7$(3),t.Y8G("formGroup",s.smtpSettingForm),t.R7$(5),t.SpI(" ",t.bMT(14,19,"HOST"),""),t.R7$(3),t.Y8G("ngIf",s.smtpSettingForm.get("host").touched&&s.smtpSettingForm.get("host").errors),t.R7$(4),t.SpI(" ",t.bMT(21,21,"PORT"),""),t.R7$(3),t.Y8G("ngIf",s.smtpSettingForm.get("port").touched&&s.smtpSettingForm.get("port").errors),t.R7$(4),t.JRh(t.bMT(28,23,"USER_NAME")),t.R7$(3),t.Y8G("ngIf",s.smtpSettingForm.get("userName").touched&&s.smtpSettingForm.get("userName").errors),t.R7$(4),t.JRh(t.bMT(35,25,"PASSWORD")),t.R7$(3),t.Y8G("ngIf",s.smtpSettingForm.get("password").touched&&s.smtpSettingForm.get("password").errors),t.R7$(3),t.Y8G("ngIf",s.smtpSettingForm.get("isEnableSSL").value),t.R7$(),t.Y8G("ngIf",!s.smtpSettingForm.get("isEnableSSL").value),t.R7$(3),t.Y8G("ngIf",s.smtpSettingForm.get("isDefault").value),t.R7$(),t.Y8G("ngIf",!s.smtpSettingForm.get("isDefault").value),t.R7$(2),t.Y8G("ngIf",s.isEditMode),t.R7$(),t.Y8G("ngIf",!s.isEditMode),t.R7$(),t.Y8G("routerLink",t.lJ4(29,B)),t.R7$(2),t.SpI(" ",t.bMT(52,27,"CANCEL")," "))},dependencies:[c.bT,v.J,o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD,l.Wk,I.sG,u.X,_.D9]})}return e})(),b=(()=>{class e{emailSmtpSettingService;constructor(n){this.emailSmtpSettingService=n}resolve(n,i){const s=n.paramMap.get("id");return this.emailSmtpSettingService.getEmailSMTPSetting(s)}static \u0275fac=function(i){return new(i||e)(t.KVO(g))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();const St=[{path:"",component:w,canActivate:[d.q],data:{claimType:"email_view_smtp_settings"}},{path:"manage/:id",component:M,resolve:{smtpSetting:b},canActivate:[d.q],data:{claimType:"email_edit_smtp_setting"}},{path:"manage",component:M,canActivate:[d.q],data:{claimType:"email_create_smtp_setting"}}];let pt=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[l.iI.forChild(St),l.iI]})}return e})();var ct=m(3887);let gt=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({providers:[b],imports:[c.MD,ct.G,o.X1,pt,r.tP,I.mV,u.M]})}return e})()}}]);