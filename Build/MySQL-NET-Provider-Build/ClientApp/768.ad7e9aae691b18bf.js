"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[768],{6768:(G,g,o)=>{o.r(g),o.d(g,{OperationModule:()=>w});var p=o(177),u=o(8),O=o(8141),t=o(4438),h=o(3621),b=o(5794),d=o(5351),m=o(9417),f=o(5464),C=o(3955);function S(e,r){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",8),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.saveOperation())}),t.nrm(2,"i-feather",9),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.bVm()}2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"Save"),""))}function $(e,r){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",8),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.saveOperation())}),t.nrm(2,"i-feather",9),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.bVm()}2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"Save")))}let E=(()=>{class e extends u.${dialogRef;data;operationService;isEdit=!1;constructor(n,a,i){super(),this.dialogRef=n,this.data=a,this.operationService=i}ngOnChanges(n){n.data&&this.data.id&&(this.isEdit=!0)}onCancel(){this.dialogRef.close()}saveOperation(){this.data.id?this.operationService.update(this.data):this.operationService.add(this.data),this.dialogRef.close()}static \u0275fac=function(a){return new(a||e)(t.rXU(d.CP),t.rXU(d.Vh),t.rXU(h.n))};static \u0275cmp=t.VBU({type:e,selectors:[["app-manage-operation"]],features:[t.Vt3,t.OA$],decls:12,vars:6,consts:[["mat-dialog-content",""],[1,"form-group"],["for","operationName"],["type","text","id","operationName",1,"form-control",3,"ngModelChange","ngModel"],["mat-dialog-actions",""],[4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],["name","x-circle",1,"small-icon"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","save",1,"small-icon"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"label",2),t.EFF(3,"Action Name:"),t.k0s(),t.j41(4,"input",3),t.mxI("ngModelChange",function(c){return t.DH7(i.data.name,c)||(i.data.name=c),c}),t.k0s()()(),t.j41(5,"div",4),t.DNE(6,S,5,3,"ng-container",5)(7,$,5,3,"ng-container",5),t.j41(8,"button",6),t.bIt("click",function(){return i.onCancel()}),t.nrm(9,"i-feather",7),t.EFF(10),t.nI1(11,"translate"),t.k0s()()),2&a&&(t.R7$(4),t.R50("ngModel",i.data.name),t.R7$(2),t.Y8G("ngIf",!i.isEdit),t.R7$(),t.Y8G("ngIf",i.isEdit),t.R7$(3),t.SpI(" ",t.bMT(11,4,"CANCEL"),""))},dependencies:[p.bT,m.me,m.BC,m.vS,d.E7,d.Yi,f.X,C.D9]})}return e})();var j=o(4481),s=o(9159);function k(e,r){1&e&&(t.j41(0,"th",18),t.EFF(1,"Action "),t.k0s())}function y(e,r){if(1&e){const n=t.RV6();t.j41(0,"td",19)(1,"button",20),t.bIt("click",function(){const i=t.eBV(n).$implicit,l=t.XpG();return t.Njj(l.manageOperation(i))}),t.nrm(2,"i-feather",21),t.EFF(3," Edit "),t.k0s(),t.j41(4,"button",22),t.bIt("click",function(){const i=t.eBV(n).$implicit,l=t.XpG();return t.Njj(l.deleteOperation(i))}),t.nrm(5,"i-feather",23),t.EFF(6," Delete "),t.k0s()()}}function F(e,r){1&e&&(t.j41(0,"th",24),t.EFF(1," Name "),t.k0s())}function R(e,r){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(),t.SpI(" ",n.name," ")}}function _(e,r){1&e&&t.nrm(0,"tr",26)}function D(e,r){1&e&&t.nrm(0,"tr",27)}function T(e,r){1&e&&(t.j41(0,"div",28)(1,"div",29)(2,"span",30),t.EFF(3,"Loading..."),t.k0s()()())}let I=(()=>{class e extends u.${dialog;commonDialogService;operations;loading=!1;addEditOperationHandler=new t.bkB;deleteOperationHandler=new t.bkB;displayedColumns=["action","name"];constructor(n,a){super(),this.dialog=n,this.commonDialogService=a}ngOnInit(){}deleteOperation(n){this.sub$.sink=this.commonDialogService.deleteConformationDialog(`Are you sure you want to delete ${n.name}`).subscribe(a=>{a&&this.deleteOperationHandler.emit(n.id)})}manageOperation(n){const a=this.dialog.open(E,{width:"250px",data:Object.assign({},n)});this.sub$.sink=a.afterClosed().subscribe(i=>{i&&this.addEditOperationHandler.emit(i)})}static \u0275fac=function(a){return new(a||e)(t.rXU(d.bZ),t.rXU(j.Z))};static \u0275cmp=t.VBU({type:e,selectors:[["app-operation-list-presentation"]],inputs:{operations:"operations",loading:"loading"},outputs:{addEditOperationHandler:"addEditOperationHandler",deleteOperationHandler:"deleteOperationHandler"},features:[t.Vt3],decls:22,vars:5,consts:[[1,"row","mb-3","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"section-title"],[1,"widget-title"],[1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","plus",1,"small-icon"],[1,"mat-elevation-z8"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8","table",3,"dataSource"],["matColumnDef","action"],["style","width:30%","mat-header-cell","",4,"matHeaderCellDef"],["style","width:30%","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","spinner-container",4,"ngIf"],["mat-header-cell","",2,"width","30%"],["mat-cell","",2,"width","30%"],["type","button",1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","edit",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["name","trash",1,"small-icon"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"spinner-container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t.EFF(4,"Actions"),t.k0s()()(),t.j41(5,"div",1)(6,"h4",3)(7,"button",4),t.bIt("click",function(){return i.manageOperation({})}),t.nrm(8,"i-feather",5),t.EFF(9," Add Action "),t.k0s()()()(),t.j41(10,"div",6)(11,"div",7)(12,"table",8),t.qex(13,9),t.DNE(14,k,2,0,"th",10)(15,y,7,0,"td",11),t.bVm(),t.qex(16,12),t.DNE(17,F,2,0,"th",13)(18,R,2,1,"td",14),t.bVm(),t.DNE(19,_,1,0,"tr",15)(20,D,1,0,"tr",16),t.k0s()()(),t.DNE(21,T,4,0,"div",17)),2&a&&(t.R7$(12),t.Y8G("dataSource",i.operations),t.R7$(7),t.Y8G("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",i.displayedColumns),t.R7$(),t.Y8G("ngIf",!i.loading))},dependencies:[p.bT,s.Zl,s.tL,s.ji,s.cC,s.YV,s.iL,s.KS,s.$R,s.YZ,s.NB,f.X],changeDetection:0})}return e})(),M=(()=>{class e extends u.${operationService;toastrService;operations$;loading$;constructor(n,a){super(),this.operationService=n,this.toastrService=a}ngOnInit(){this.loading$=this.operationService.loaded$.pipe((0,O.M)(n=>{n||this.getOperations()})),this.operations$=this.operationService.entities$}getOperations(){this.operationService.getAll()}deleteOperation(n){this.sub$.sink=this.operationService.delete(n).subscribe(()=>{this.toastrService.success("Operation Deleted Successfully.")})}manageOperation(n){this.sub$.sink=n.id?this.operationService.update(n).subscribe(()=>{this.toastrService.success("Operation Updated Successfully.")}):this.operationService.add(n).subscribe(()=>{this.toastrService.success("Operation Saved Successfully.")})}static \u0275fac=function(a){return new(a||e)(t.rXU(h.n),t.rXU(b.tw))};static \u0275cmp=t.VBU({type:e,selectors:[["app-operation-list"]],features:[t.Vt3],decls:3,vars:6,consts:[[3,"addEditOperationHandler","deleteOperationHandler","operations","loading"]],template:function(a,i){1&a&&(t.j41(0,"app-operation-list-presentation",0),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("addEditOperationHandler",function(c){return i.manageOperation(c)})("deleteOperationHandler",function(c){return i.deleteOperation(c)}),t.k0s()),2&a&&t.Y8G("operations",t.bMT(1,2,i.operations$))("loading",t.bMT(2,4,i.loading$))},dependencies:[I,p.Jj]})}return e})();var v=o(1188);const L=[{path:"",component:M,canActivate:[o(3870).q]}];let V=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[v.iI.forChild(L),v.iI]})}return e})();var N=o(3887);let w=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[p.MD,m.YN,V,s.tP,d.hM,N.G,f.M]})}return e})()}}]);